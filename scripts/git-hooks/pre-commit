#!/bin/bash
# Pre-commit hook for Go project
# This hook runs linting checks before allowing a commit

set -e

echo "ğŸ” Running pre-commit checks..."

# Check if we're in a git repository
if ! git rev-parse --git-dir > /dev/null 2>&1; then
    echo "âŒ Not in a git repository"
    exit 1
fi

# Run linting
echo "ğŸ“ Running linter..."
cd "$(git rev-parse --show-toplevel)"
if ! make lint; then
    echo "âŒ Linting failed. Please fix the errors before committing."
    exit 1
fi

echo "âœ… Pre-commit checks passed!"
exit 0

